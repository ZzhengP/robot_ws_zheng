<?xml version="1.0"?>
<robot name = "human" xmlns:xacro="http://www.ros.org/wiki/xacro">

<xacro:property name ="PI" value ="3.1415926535897931"/>
<xacro:property name ="body_mass" value ="10" />
<xacro:property name ="upperarm_mass" value ="5" />
<xacro:property name ="a" value ="0.15" />
<xacro:property name ="b" value ="0.15" />
<xacro:property name ="c" value ="0.15" />
<xacro:property name ="Lc" value = "0.4" />

<xacro:include filename="/home/zheng/robot_ws_zheng/src/ur_description/urdf/simplehumanArm.urdf.xacro" />


<!-- **************************** Joint Properties ********************************* -->

<joint name="world_joint" type="fixed">
    <parent link = "world"/>
    <child link="base_corps_link_1"/>
    <origin rpy ="0. 0. 0." xyz = "0. 0. ${Lc}"/>
</joint>

<joint name="joint_chest_z" type="revolute">
    <parent link = "base_corps_link_1"/>
    <child link="link_virtual"/>
    <origin rpy ="0. 0. 0." xyz = "0.0 0.0 ${c+0.01}"/>
    <axis xyz="0 0 1"/>
    <limit lower="-${PI/2}" upper="${PI/2}" effort="100.0" velocity="10.0"/>
    
</joint>


<joint name="joint_chest_y" type="revolute">
    <parent link = "link_virtual"/>
    <child link="base_corps_link_2"/>
    <origin rpy ="0. 0. 0." xyz = "0.0 0.0 0."/>
    <axis xyz="0 1 0"/>
    <limit lower="-1.57" upper="1.57" effort="100.0" velocity="10.0"/>

</joint>

<!--joint name="joint_chest_y" type="fixed">
    <parent link = "link_virtual"/>
    <child link="base_corps_link_2"/>
    <origin rpy ="0. 0. 0." xyz = "0.0 0.0 0."/>
</joint-->


<!-- **************************** Link Properties ********************************* -->

<link name="world"/> 

<link name="base_corps_link_1">
  <visual>
    <geometry>  
      <box size="${a} ${b} ${c}"/>
    </geometry>
    <origin xyz="0.0 0.0 ${c/2}" rpy="0.0 0.0 0.0"/>
  </visual>

  <collision>
    <origin xyz="0.0 0.0 ${c/2}" rpy="0.0 0.0 0.0"/>
    <geometry>  
      <box size="${a} ${b} ${c}"/>
    </geometry>
  </collision>

  <inertial>
    <mass value="${body_mass}"/>
    <inertia ixx="${body_mass / 12.0 * (b*b + c*c)}" ixy="0.0" ixz="0.0" 
             iyy="${body_mass / 12.0 * (a*a + c*c)}" iyz="0.0" 
             izz= "${body_mass / 12.0 * (a*a + b*b)}"/>
  </inertial>
</link>

<link name="link_virtual">
  <visual>
    <geometry>
      <cylinder radius="0.01" length="0.075"/>
    </geometry>
    <origin xyz="0.0 0.0 0.0" rpy="-1.57 0.0 0.0"/>
  </visual>
  <inertial>
    <mass value="0.01"/>
    <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
  </inertial>
</link>


<link name="base_corps_link_2">
  <visual>
    <geometry>
      <box size=" ${a}  ${b}  ${c}"/>
    </geometry>
    <origin xyz="0. 0. ${c/2}" rpy="0.0 0.0 0.0"/>
  </visual>

  <collision>
    <origin xyz="0. 0.  ${c/2}" rpy="0.0 0.0 0.0"/>
    <geometry>  
      <box size="${a} ${b} ${c}"/>
    </geometry>
  </collision>

  <inertial>
    <mass value="${body_mass}"/>
    <inertia ixx="${body_mass / 12.0 * (b*b + c*c)}" ixy="0.0" ixz="0.0" 
             iyy="${body_mass / 12.0 * (a*a + c*c)}" iyz="0.0" 
             izz= "${body_mass / 12.0 * (a*a + b*b)}"/>
  </inertial>
</link>



    <!-- Import gazebo element -->
    <gazebo reference="base_corps_link_1">
        <material>Gazebo/White</material>
    </gazebo>
    <gazebo reference="link_virtual">
        <material>Gazebo/White</material>
    </gazebo>   
    <gazebo reference="base_corps_link_2">
        <material>Gazebo/White</material>
    </gazebo>


    
     <transmission name="tran1">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_chest_z">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="tran2">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_chest_y">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
</robot>